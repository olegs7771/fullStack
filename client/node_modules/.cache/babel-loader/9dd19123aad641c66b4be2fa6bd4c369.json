{"ast":null,"code":"//This action will hit api/profile/current and bring user's profile from token\nimport axios from \"axios\";\nimport { GET_PROFILE, PROFILE_LOADING, GET_ERRORS, CLEAR_CURRENT_PROFILE, UPDATE_CURRENT_PROFILE, GET_PROFILES } from \"./types\"; //get current profile\n\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/current\").then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n}; //Profile loading\n\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n}; //Clear Profile\n\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n}; //create or update current user profile\n\nexport var registerCurrentProfile = function registerCurrentProfile(newProfile) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/update\", newProfile).then(function (res) {\n      dispatch({\n        type: UPDATE_CURRENT_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //get all profiles\n\nexport var getAllProfiles = function getAllProfiles() {\n  return function (dispatch) {\n    axios.get(\"/api/profile/all\").then(function (res) {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\oleg\\fullStack\\fullStack\\client\\src\\actions\\profileAction.js"],"names":["axios","GET_PROFILE","PROFILE_LOADING","GET_ERRORS","CLEAR_CURRENT_PROFILE","UPDATE_CURRENT_PROFILE","GET_PROFILES","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","clearCurrentProfile","registerCurrentProfile","newProfile","post","response","getAllProfiles"],"mappings":"AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,EAEEC,eAFF,EAGEC,UAHF,EAIEC,qBAJF,EAKEC,sBALF,EAMEC,YANF,QAOO,SAPP,C,CASA;;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAAM,UAAAC,QAAQ,EAAI;AACjDA,IAAAA,QAAQ,CAACC,iBAAiB,EAAlB,CAAR;AACAT,IAAAA,KAAK,CACFU,GADH,CACO,sBADP,EAEGC,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXJ,MAAAA,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEZ,WADC;AAEPa,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CAAR;AAID,KAPH,EAQGC,KARH,CAQS,UAAAC,GAAG;AAAA,aACRT,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEZ,WADC;AAEPa,QAAAA,OAAO,EAAE;AAFF,OAAD,CADA;AAAA,KARZ;AAcD,GAhBgC;AAAA,CAA1B,C,CAkBP;;AACA,OAAO,IAAML,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AACrC,SAAO;AACLI,IAAAA,IAAI,EAAEX;AADD,GAAP;AAGD,CAJM,C,CAKP;;AACA,OAAO,IAAMgB,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AACvC,SAAO;AACLL,IAAAA,IAAI,EAAET;AADD,GAAP;AAGD,CAJM,C,CAKP;;AAEA,OAAO,IAAMe,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAC,UAAU;AAAA,SAAI,UAAAZ,QAAQ,EAAI;AAC9DR,IAAAA,KAAK,CACFqB,IADH,CACQ,qBADR,EAC+BD,UAD/B,EAEGT,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXJ,MAAAA,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAER,sBADC;AAEPS,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CAAR;AAID,KAPH,EAQGC,KARH,CAQS,UAAAC,GAAG,EAAI;AACZT,MAAAA,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEV,UADC;AAEPW,QAAAA,OAAO,EAAEG,GAAG,CAACK,QAAJ,CAAaP;AAFf,OAAD,CAAR;AAID,KAbH;AAcD,GAf+C;AAAA,CAAzC,C,CAiBP;;AACA,OAAO,IAAMQ,cAAc,GAAG,SAAjBA,cAAiB;AAAA,SAAM,UAAAf,QAAQ,EAAI;AAC9CR,IAAAA,KAAK,CACFU,GADH,CACO,kBADP,EAEGC,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXJ,MAAAA,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEP,YADC;AAEPQ,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CAAR;AAID,KAPH,EAQGC,KARH,CAQS,UAAAC,GAAG,EAAI;AACZT,MAAAA,QAAQ,CAAC;AACPK,QAAAA,IAAI,EAAEV,UADC;AAEPW,QAAAA,OAAO,EAAEG,GAAG,CAACK,QAAJ,CAAaP;AAFf,OAAD,CAAR;AAID,KAbH;AAcD,GAf6B;AAAA,CAAvB","sourcesContent":["//This action will hit api/profile/current and bring user's profile from token\r\n\r\nimport axios from \"axios\";\r\nimport {\r\n  GET_PROFILE,\r\n  PROFILE_LOADING,\r\n  GET_ERRORS,\r\n  CLEAR_CURRENT_PROFILE,\r\n  UPDATE_CURRENT_PROFILE,\r\n  GET_PROFILES\r\n} from \"./types\";\r\n\r\n//get current profile\r\nexport const getCurrentProfile = () => dispatch => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile/current\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: {}\r\n      })\r\n    );\r\n};\r\n\r\n//Profile loading\r\nexport const setProfileLoading = () => {\r\n  return {\r\n    type: PROFILE_LOADING\r\n  };\r\n};\r\n//Clear Profile\r\nexport const clearCurrentProfile = () => {\r\n  return {\r\n    type: CLEAR_CURRENT_PROFILE\r\n  };\r\n};\r\n//create or update current user profile\r\n\r\nexport const registerCurrentProfile = newProfile => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/update\", newProfile)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPDATE_CURRENT_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n\r\n//get all profiles\r\nexport const getAllProfiles = () => dispatch => {\r\n  axios\r\n    .get(\"/api/profile/all\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILES,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}