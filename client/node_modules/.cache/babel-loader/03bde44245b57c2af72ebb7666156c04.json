{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\oleg\\\\fullStack\\\\fullStack\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\oleg\\\\fullStack\\\\fullStack\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\oleg\\\\fullStack\\\\fullStack\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\oleg\\\\fullStack\\\\fullStack\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\oleg\\\\fullStack\\\\fullStack\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\oleg\\\\fullStack\\\\fullStack\\\\client\\\\src\\\\components\\\\posts\\\\PostItem.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classnames from \"classnames\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Moment from \"react-moment\";\nimport { deletePost, addLike, removeLike } from \"../../actions/postAction\";\n\nvar PostItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostItem, _Component);\n\n  function PostItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PostItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PostItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.handleDeletePost = function (id) {\n      _this.props.deletePost(id);\n    };\n\n    _this.handleAddLike = function (id) {\n      _this.props.addLike(id);\n    };\n\n    _this.handleRemoveLike = function (id) {\n      _this.props.removeLike(id);\n    };\n\n    return _this;\n  }\n\n  _createClass(PostItem, [{\n    key: \"findUserLike\",\n    value: function findUserLike(likes) {\n      var auth = this.props.auth;\n\n      if (likes.filter(function (like) {\n        return like.user === auth.user.id;\n      }).length > 0) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"render\");\n      var _this$props = this.props,\n          post = _this$props.post,\n          auth = _this$props.auth,\n          errors = _this$props.errors;\n\n      if (errors) {\n        console.log(errors);\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card  my-3 py-2 px-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-1  col-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: post.avatar,\n        alt: \"\",\n        style: {\n          width: \"40px\"\n        },\n        className: \"rounded-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-8 col-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, post.name), \" commented on\", \" \", React.createElement(Moment, {\n        format: \"D MMM YYYY\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, post.date))), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, post.text)), React.createElement(\"div\", {\n        className: \"button-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-light mr-1\",\n        onClick: this.handleAddLike.bind(this, post._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: classnames(\"fas fa-thumbs-up\", {\n          \"text-info\": this.findUserLike(post.likes)\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"badge badge-light\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, post.likes.length)), React.createElement(\"button\", {\n        className: \"btn btn-light\",\n        onClick: this.handleRemoveLike.bind(this, post._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-thumbs-down \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })), React.createElement(Link, {\n        to: \"/post/\".concat(post._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-dark ml-1\",\n        onClick: this.handleComment.bind(this, post._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Comments\"))), post.user === auth.user.id ? React.createElement(\"button\", {\n        className: \"btn btn-danger ml-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-white\",\n        onClick: this.handleDeletePost.bind(this, post._id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Delete\")) : null)));\n    }\n  }]);\n\n  return PostItem;\n}(Component);\n\nPostItem.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired,\n  deletePost: PropTypes.func.isRequired,\n  addLike: PropTypes.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  deletePost: deletePost,\n  addLike: addLike,\n  removeLike: removeLike\n})(PostItem);","map":{"version":3,"sources":["C:\\Users\\oleg\\fullStack\\fullStack\\client\\src\\components\\posts\\PostItem.js"],"names":["React","Component","PropTypes","classnames","Link","connect","Moment","deletePost","addLike","removeLike","PostItem","handleDeletePost","id","props","handleAddLike","handleRemoveLike","likes","auth","filter","like","user","length","console","log","post","errors","avatar","width","name","date","text","bind","_id","findUserLike","handleComment","propTypes","object","isRequired","func","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport classnames from \"classnames\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Moment from \"react-moment\";\r\nimport { deletePost, addLike, removeLike } from \"../../actions/postAction\";\r\n\r\nclass PostItem extends Component {\r\n  handleDeletePost = id => {\r\n    this.props.deletePost(id);\r\n  };\r\n\r\n  //Add Like\r\n  handleAddLike = id => {\r\n    this.props.addLike(id);\r\n  };\r\n  //Remove Like\r\n  handleRemoveLike = id => {\r\n    this.props.removeLike(id);\r\n  };\r\n  findUserLike(likes) {\r\n    const { auth } = this.props;\r\n    if (likes.filter(like => like.user === auth.user.id).length > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    console.log(\"render\");\r\n\r\n    const { post, auth, errors } = this.props;\r\n    if (errors) {\r\n      console.log(errors);\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"card  my-3 py-2 px-2\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-1  col-2\">\r\n              <img\r\n                src={post.avatar}\r\n                alt=\"\"\r\n                style={{ width: \"40px\" }}\r\n                className=\"rounded-circle\"\r\n              />\r\n            </div>\r\n            <div className=\"col-md-8 col-8\">\r\n              <span className=\"text-info\">{post.name}</span> commented on{\" \"}\r\n              <Moment format=\"D MMM YYYY\">{post.date}</Moment>\r\n            </div>\r\n          </div>\r\n          <hr />\r\n          <div className=\"card-body\">\r\n            <div className=\"card-text\">{post.text}</div>\r\n          </div>\r\n          <div className=\"button-group\">\r\n            {/* {Add Like} */}\r\n            <button\r\n              className=\"btn btn-light mr-1\"\r\n              onClick={this.handleAddLike.bind(this, post._id)}\r\n            >\r\n              <i\r\n                className={classnames(\"fas fa-thumbs-up\", {\r\n                  \"text-info\": this.findUserLike(post.likes)\r\n                })}\r\n              />\r\n              <span className=\"badge badge-light\">{post.likes.length}</span>\r\n            </button>\r\n            <button\r\n              className=\"btn btn-light\"\r\n              onClick={this.handleRemoveLike.bind(this, post._id)}\r\n            >\r\n              <i className=\"fas fa-thumbs-down \" />\r\n            </button>\r\n            <Link to={`/post/${post._id}`}>\r\n              <button\r\n                className=\"btn btn-dark ml-1\"\r\n                onClick={this.handleComment.bind(this, post._id)}\r\n              >\r\n                <span className=\"text-white\">Comments</span>\r\n              </button>\r\n            </Link>\r\n            {post.user === auth.user.id ? (\r\n              <button className=\"btn btn-danger ml-1\">\r\n                <span\r\n                  className=\"text-white\"\r\n                  onClick={this.handleDeletePost.bind(this, post._id)}\r\n                >\r\n                  Delete\r\n                </span>\r\n              </button>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPostItem.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n  deletePost: PropTypes.func.isRequired,\r\n  addLike: PropTypes.func.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\nexport default connect(\r\n  mapStateToProps,\r\n  { deletePost, addLike, removeLike }\r\n)(PostItem);\r\n"]},"metadata":{},"sourceType":"module"}