{"ast":null,"code":"//This action will hit api/profile/current and bring user's profile from token\nimport axios from \"axios\";\nimport { GET_PROFILE, PROFILE_LOADING, GET_ERRORS, CLEAR_CURRENT_PROFILE, UPDATE_CURRENT_PROFILE, GET_PROFILES, SET_CURRENT_USER, EDIT_EXPERIENCE, EDIT_EDUCATION, DELETE_EXPERIENCE } from \"./types\"; //get current profile\n\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/current\").then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n}; //Profile loading\n\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n}; //Clear Profile\n\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n}; //create or update current user profile\n\nexport var registerCurrentProfile = function registerCurrentProfile(newProfile, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/update\", newProfile).then(function (res) {\n      dispatch({\n        type: UPDATE_CURRENT_PROFILE,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //edit experience in current profile\n\nexport var editExperience = function editExperience(newExp, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/exp\", newExp).then(function (res) {\n      dispatch({\n        type: EDIT_EXPERIENCE,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var editEducation = function editEducation(newEdu, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/edu\", newEdu).then(function (res) {\n      dispatch({\n        type: EDIT_EDUCATION,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //get all profiles\n\nexport var getAllProfiles = function getAllProfiles() {\n  return function (dispatch) {\n    axios.get(\"/api/profile/all\").then(function (res) {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //delete account and profile\n\nexport var deleteProfile = function deleteProfile(_id, history) {\n  return function (dispatch) {\n    if (window.confirm(\"Are you sure? This can NOT be undone!\")) {\n      axios.delete(\"/api/profile/delete/:id\").then(function (res) {\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        });\n      }).catch(function (err) {\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      });\n    }\n  };\n}; //delete experience from profile by id\n\nexport var deleteExp = function deleteExp(_id, history) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/exp/\".concat(_id)).then(function (res) {\n      dispatch({\n        type: DELETE_EXPERIENCE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return res.status(400).json(err);\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\oleg\\fullStack\\fullStack\\client\\src\\actions\\profileAction.js"],"names":["axios","GET_PROFILE","PROFILE_LOADING","GET_ERRORS","CLEAR_CURRENT_PROFILE","UPDATE_CURRENT_PROFILE","GET_PROFILES","SET_CURRENT_USER","EDIT_EXPERIENCE","EDIT_EDUCATION","DELETE_EXPERIENCE","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","clearCurrentProfile","registerCurrentProfile","newProfile","history","post","push","response","editExperience","newExp","editEducation","newEdu","getAllProfiles","deleteProfile","_id","window","confirm","delete","deleteExp","status","json"],"mappings":"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","sourcesContent":["//This action will hit api/profile/current and bring user's profile from token\r\n\r\nimport axios from \"axios\";\r\nimport {\r\n  GET_PROFILE,\r\n  PROFILE_LOADING,\r\n  GET_ERRORS,\r\n  CLEAR_CURRENT_PROFILE,\r\n  UPDATE_CURRENT_PROFILE,\r\n  GET_PROFILES,\r\n  SET_CURRENT_USER,\r\n  EDIT_EXPERIENCE,\r\n  EDIT_EDUCATION,\r\n  DELETE_EXPERIENCE\r\n} from \"./types\";\r\n\r\n//get current profile\r\nexport const getCurrentProfile = () => dispatch => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile/current\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: {}\r\n      })\r\n    );\r\n};\r\n\r\n//Profile loading\r\nexport const setProfileLoading = () => {\r\n  return {\r\n    type: PROFILE_LOADING\r\n  };\r\n};\r\n//Clear Profile\r\nexport const clearCurrentProfile = () => {\r\n  return {\r\n    type: CLEAR_CURRENT_PROFILE\r\n  };\r\n};\r\n//create or update current user profile\r\n\r\nexport const registerCurrentProfile = (newProfile, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/update\", newProfile)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPDATE_CURRENT_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n//edit experience in current profile\r\nexport const editExperience = (newExp, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/exp\", newExp)\r\n    .then(res => {\r\n      dispatch({\r\n        type: EDIT_EXPERIENCE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\nexport const editEducation = (newEdu, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/edu\", newEdu)\r\n    .then(res => {\r\n      dispatch({\r\n        type: EDIT_EDUCATION,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n\r\n//get all profiles\r\nexport const getAllProfiles = () => dispatch => {\r\n  axios\r\n    .get(\"/api/profile/all\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILES,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n\r\n//delete account and profile\r\n\r\nexport const deleteProfile = (_id, history) => dispatch => {\r\n  if (window.confirm(\"Are you sure? This can NOT be undone!\")) {\r\n    axios\r\n      .delete(\"/api/profile/delete/:id\")\r\n      .then(res => {\r\n        dispatch({\r\n          type: SET_CURRENT_USER,\r\n          payload: {}\r\n        });\r\n      })\r\n      .catch(err => {\r\n        dispatch({\r\n          type: GET_ERRORS,\r\n          payload: err.response.data\r\n        });\r\n      });\r\n  }\r\n};\r\n\r\n//delete experience from profile by id\r\nexport const deleteExp = (_id, history) => dispatch => {\r\n  axios\r\n    .delete(`/api/profile/exp/${_id}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: DELETE_EXPERIENCE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => res.status(400).json(err));\r\n};\r\n"]},"metadata":{},"sourceType":"module"}