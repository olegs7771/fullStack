{"ast":null,"code":"//This action will hit api/profile/current and bring user's profile from token\nimport axios from \"axios\";\nimport { GET_PROFILE, PROFILE_LOADING, GET_ERRORS, CLEAR_CURRENT_PROFILE, UPDATE_CURRENT_PROFILE, GET_PROFILES, DELETE_PROFILE, CLEAR_MESSAGE } from \"./types\"; //get current profile\n\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/current\").then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n}; //Profile loading\n\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n}; //Clear Profile\n\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n}; //create or update current user profile\n\nexport var registerCurrentProfile = function registerCurrentProfile(newProfile, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/update\", newProfile).then(function (res) {\n      dispatch({\n        type: UPDATE_CURRENT_PROFILE,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //get all profiles\n\nexport var getAllProfiles = function getAllProfiles() {\n  return function (dispatch) {\n    axios.get(\"/api/profile/all\").then(function (res) {\n      dispatch({\n        type: GET_PROFILES,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //delete profile by id\n\nexport var deleteProfile = function deleteProfile(_id, history) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/delete_profile/\".concat(_id)).then(function (res) {\n      dispatch({\n        type: DELETE_PROFILE,\n        payload: res.data,\n        _id: _id\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //Clear Message from State\n\nexport var clearMessage = function clearMessage() {\n  return function (dispatch) {\n    dispatch({\n      type: CLEAR_MESSAGE\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\oleg\\fullStack\\fullStack\\client\\src\\actions\\profileAction.js"],"names":["axios","GET_PROFILE","PROFILE_LOADING","GET_ERRORS","CLEAR_CURRENT_PROFILE","UPDATE_CURRENT_PROFILE","GET_PROFILES","DELETE_PROFILE","CLEAR_MESSAGE","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","clearCurrentProfile","registerCurrentProfile","newProfile","history","post","push","response","getAllProfiles","deleteProfile","_id","delete","clearMessage"],"mappings":"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","sourcesContent":["//This action will hit api/profile/current and bring user's profile from token\r\n\r\nimport axios from \"axios\";\r\nimport {\r\n  GET_PROFILE,\r\n  PROFILE_LOADING,\r\n  GET_ERRORS,\r\n  CLEAR_CURRENT_PROFILE,\r\n  UPDATE_CURRENT_PROFILE,\r\n  GET_PROFILES,\r\n  DELETE_PROFILE,\r\n  CLEAR_MESSAGE\r\n} from \"./types\";\r\n\r\n//get current profile\r\nexport const getCurrentProfile = () => dispatch => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile/current\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: {}\r\n      })\r\n    );\r\n};\r\n\r\n//Profile loading\r\nexport const setProfileLoading = () => {\r\n  return {\r\n    type: PROFILE_LOADING\r\n  };\r\n};\r\n//Clear Profile\r\nexport const clearCurrentProfile = () => {\r\n  return {\r\n    type: CLEAR_CURRENT_PROFILE\r\n  };\r\n};\r\n//create or update current user profile\r\n\r\nexport const registerCurrentProfile = (newProfile, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/update\", newProfile)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPDATE_CURRENT_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n\r\n//get all profiles\r\nexport const getAllProfiles = () => dispatch => {\r\n  axios\r\n    .get(\"/api/profile/all\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILES,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n//delete profile by id\r\nexport const deleteProfile = (_id, history) => dispatch => {\r\n  axios\r\n    .delete(`/api/profile/delete_profile/${_id}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: DELETE_PROFILE,\r\n        payload: res.data,\r\n        _id\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n//Clear Message from State\r\n\r\nexport const clearMessage = () => dispatch => {\r\n  dispatch({\r\n    type: CLEAR_MESSAGE\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}