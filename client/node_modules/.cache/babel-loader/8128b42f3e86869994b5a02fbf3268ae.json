{"ast":null,"code":"//This action will hit api/profile/current and bring user's profile from token\nimport axios from \"axios\";\nimport { GET_PROFILE, PROFILE_LOADING, GET_ERRORS, CLEAR_CURRENT_PROFILE, UPDATE_CURRENT_PROFILE, GET_PROFILES, SET_CURRENT_USER, EDIT_EXPERIENCE, EDIT_EDUCATION } from \"./types\"; //get current profile\n\nexport var getCurrentProfile = function getCurrentProfile() {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/current\").then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_PROFILE,\n        payload: {}\n      });\n    });\n  };\n}; //get current profile by handle\n\nexport var getProfileByHandle = function getProfileByHandle(handle) {\n  return function (dispatch) {\n    dispatch(setProfileLoading());\n    axios.get(\"/api/profile/handle/\".concat(handle)).then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //Profile loading\n\nexport var setProfileLoading = function setProfileLoading() {\n  return {\n    type: PROFILE_LOADING\n  };\n}; //Clear Profile\n\nexport var clearCurrentProfile = function clearCurrentProfile() {\n  return {\n    type: CLEAR_CURRENT_PROFILE\n  };\n}; //create or update current user profile\n\nexport var registerCurrentProfile = function registerCurrentProfile(newProfile, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/update\", newProfile).then(function (res) {\n      dispatch({\n        type: UPDATE_CURRENT_PROFILE,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //edit experience in current profile\n\nexport var editExperience = function editExperience(newExp, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/exp\", newExp).then(function (res) {\n      dispatch({\n        type: EDIT_EXPERIENCE,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};\nexport var editEducation = function editEducation(newEdu, history) {\n  return function (dispatch) {\n    axios.post(\"/api/profile/edu\", newEdu).then(function (res) {\n      dispatch({\n        type: EDIT_EDUCATION,\n        payload: res.data\n      });\n    }).then(function () {\n      return history.push(\"/dashboard\");\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //get all profiles\n\nexport var getAllProfiles = function getAllProfiles() {\n  return function (dispatch) {\n    dispatch(setProfileLoading()); //makes loading state true\n\n    axios.get(\"/api/profile/all\").then(function (res) {\n      dispatch({\n        type: GET_PROFILES,\n        //make loading state false and loads profiles\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_PROFILES,\n        payload: null\n      });\n    });\n  };\n}; //delete account and profile\n\nexport var deleteProfile = function deleteProfile(_id, history) {\n  return function (dispatch) {\n    if (window.confirm(\"Are you sure? This can NOT be undone!\")) {\n      axios.delete(\"/api/profile/delete/:id\").then(function (res) {\n        dispatch({\n          type: SET_CURRENT_USER,\n          payload: {}\n        });\n      }).catch(function (err) {\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      });\n    }\n  };\n}; //delete experience from profile by id\n\nexport var deleteExp = function deleteExp(_id) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/exp/\".concat(_id)).then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n}; //delete education from profile by id\n\nexport var deleteEdu = function deleteEdu(_id) {\n  return function (dispatch) {\n    axios.delete(\"/api/profile/edu/\".concat(_id)).then(function (res) {\n      dispatch({\n        type: GET_PROFILE,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:\\Users\\oleg\\fullStack\\fullStack\\client\\src\\actions\\profileAction.js"],"names":["axios","GET_PROFILE","PROFILE_LOADING","GET_ERRORS","CLEAR_CURRENT_PROFILE","UPDATE_CURRENT_PROFILE","GET_PROFILES","SET_CURRENT_USER","EDIT_EXPERIENCE","EDIT_EDUCATION","getCurrentProfile","dispatch","setProfileLoading","get","then","res","type","payload","data","catch","err","getProfileByHandle","handle","response","clearCurrentProfile","registerCurrentProfile","newProfile","history","post","push","editExperience","newExp","editEducation","newEdu","getAllProfiles","deleteProfile","_id","window","confirm","delete","deleteExp","deleteEdu"],"mappings":"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","sourcesContent":["//This action will hit api/profile/current and bring user's profile from token\r\n\r\nimport axios from \"axios\";\r\nimport {\r\n  GET_PROFILE,\r\n  PROFILE_LOADING,\r\n  GET_ERRORS,\r\n  CLEAR_CURRENT_PROFILE,\r\n  UPDATE_CURRENT_PROFILE,\r\n  GET_PROFILES,\r\n  SET_CURRENT_USER,\r\n  EDIT_EXPERIENCE,\r\n  EDIT_EDUCATION\r\n} from \"./types\";\r\n\r\n//get current profile\r\nexport const getCurrentProfile = () => dispatch => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(\"/api/profile/current\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: {}\r\n      })\r\n    );\r\n};\r\n//get current profile by handle\r\nexport const getProfileByHandle = handle => dispatch => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get(`/api/profile/handle/${handle}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n//Profile loading\r\nexport const setProfileLoading = () => {\r\n  return {\r\n    type: PROFILE_LOADING\r\n  };\r\n};\r\n\r\n//Clear Profile\r\nexport const clearCurrentProfile = () => {\r\n  return {\r\n    type: CLEAR_CURRENT_PROFILE\r\n  };\r\n};\r\n\r\n//create or update current user profile\r\n\r\nexport const registerCurrentProfile = (newProfile, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/update\", newProfile)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPDATE_CURRENT_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n//edit experience in current profile\r\nexport const editExperience = (newExp, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/exp\", newExp)\r\n    .then(res => {\r\n      dispatch({\r\n        type: EDIT_EXPERIENCE,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\nexport const editEducation = (newEdu, history) => dispatch => {\r\n  axios\r\n    .post(\"/api/profile/edu\", newEdu)\r\n    .then(res => {\r\n      dispatch({\r\n        type: EDIT_EDUCATION,\r\n        payload: res.data\r\n      });\r\n    })\r\n    .then(() => history.push(\"/dashboard\"))\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n\r\n//get all profiles\r\nexport const getAllProfiles = () => dispatch => {\r\n  dispatch(setProfileLoading()); //makes loading state true\r\n  axios\r\n    .get(\"/api/profile/all\")\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILES, //make loading state false and loads profiles\r\n        payload: res.data\r\n      });\r\n    })\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_PROFILES,\r\n        payload: null\r\n      });\r\n    });\r\n};\r\n\r\n//delete account and profile\r\n\r\nexport const deleteProfile = (_id, history) => dispatch => {\r\n  if (window.confirm(\"Are you sure? This can NOT be undone!\")) {\r\n    axios\r\n      .delete(\"/api/profile/delete/:id\")\r\n      .then(res => {\r\n        dispatch({\r\n          type: SET_CURRENT_USER,\r\n          payload: {}\r\n        });\r\n      })\r\n      .catch(err => {\r\n        dispatch({\r\n          type: GET_ERRORS,\r\n          payload: err.response.data\r\n        });\r\n      });\r\n  }\r\n};\r\n\r\n//delete experience from profile by id\r\nexport const deleteExp = _id => dispatch => {\r\n  axios\r\n    .delete(`/api/profile/exp/${_id}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n//delete education from profile by id\r\nexport const deleteEdu = _id => dispatch => {\r\n  axios\r\n    .delete(`/api/profile/edu/${_id}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      });\r\n    })\r\n\r\n    .catch(err => {\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      });\r\n    });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}